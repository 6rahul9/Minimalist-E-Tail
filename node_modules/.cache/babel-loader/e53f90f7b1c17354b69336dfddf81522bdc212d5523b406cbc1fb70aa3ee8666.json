{"ast":null,"code":"import _slicedToArray from\"D:/Minimalist-E-Tail/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{CartContext}from\"../pages/ProductPage\";import{IconX}from\"@tabler/icons-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CartItem(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),quantity=_useState2[0],setQuantity=_useState2[1];var _useContext=useContext(CartContext),cartItem=_useContext.cartItem,setCartItem=_useContext.setCartItem;var increase=function increase(){if(quantity>=1){setQuantity(quantity+1);}};var decrease=function decrease(){if(quantity>1){setQuantity(quantity-1);}};var calcPrice=function calcPrice(quantity,item){return quantity*item;};var _useState3=useState(cartItem),_useState4=_slicedToArray(_useState3,2),deleteItem=_useState4[0],setDeleteItem=_useState4[1];var removeFromCart=function removeFromCart(id){var updateCart=cartItem.filter(function(item){return item.id!==id;});setDeleteItem(updateCart);var json=JSON.stringify(cartItem.id);localStorage.removeItem(\"cartItem\",json);};useEffect(function(){setCartItem(deleteItem);},[deleteItem,setCartItem]);return/*#__PURE__*/_jsx(_Fragment,{children:cartItem.map(function(item,id){return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-img\",children:/*#__PURE__*/_jsx(\"img\",{src:item.img,alt:\"product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-middle\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"cart-name\",children:item.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-btns\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:decrease,children:\"-\"}),/*#__PURE__*/_jsx(\"p\",{className:\"quantity\",children:quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:increase,children:\"+\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"cart-price\",children:[calcPrice(quantity,item.price),\".00\\u20B9\"]}),/*#__PURE__*/_jsx(IconX,{onClick:function onClick(){return removeFromCart(item.id);}})]})]},id);})});}export default CartItem;","map":{"version":3,"names":["useContext","useEffect","useState","CartContext","IconX","CartItem","quantity","setQuantity","cartItem","setCartItem","increase","decrease","calcPrice","item","deleteItem","setDeleteItem","removeFromCart","id","updateCart","filter","json","JSON","stringify","localStorage","removeItem","map","img","description","price"],"sources":["D:/Minimalist-E-Tail/src/components/CartItem.jsx"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport { CartContext } from \"../pages/ProductPage\";\r\nimport { IconX } from \"@tabler/icons-react\";\r\n\r\nfunction CartItem() {\r\n  const [quantity, setQuantity] = useState(1);\r\n  const { cartItem, setCartItem } = useContext(CartContext);\r\n\r\n  const increase = () => {\r\n    if (quantity >= 1) {\r\n      setQuantity(quantity + 1);\r\n    }\r\n  };\r\n\r\n  const decrease = () => {\r\n    if (quantity > 1) {\r\n      setQuantity(quantity - 1);\r\n    }\r\n  };\r\n\r\n  const calcPrice = (quantity, item) => {\r\n    return quantity * item;\r\n  };\r\n\r\n  const [deleteItem, setDeleteItem] = useState(cartItem);\r\n\r\n  const removeFromCart = (id) => {\r\n    const updateCart = cartItem.filter((item) => item.id !== id);\r\n    setDeleteItem(updateCart);\r\n    const json = JSON.stringify(cartItem.id);\r\n    localStorage.removeItem(\"cartItem\", json);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCartItem(deleteItem);\r\n  }, [deleteItem, setCartItem]);\r\n\r\n  return (\r\n    <>\r\n      {cartItem.map((item, id) => (\r\n        <div key={id} className=\"cart-item\">\r\n          <div className=\"cart-img\">\r\n            <img src={item.img} alt=\"product\" />\r\n          </div>\r\n          <div className=\"cart-middle\">\r\n            <p className=\"cart-name\">{item.description}</p>\r\n            <div className=\"cart-btns\">\r\n              <button onClick={decrease}>-</button>\r\n              <p className=\"quantity\">{quantity}</p>\r\n              <button onClick={increase}>+</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"cart-right\">\r\n            <p className=\"cart-price\">{calcPrice(quantity, item.price)}.00â‚¹</p>\r\n            <IconX onClick={() => removeFromCart(item.id)} />\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CartItem;\r\n"],"mappings":"0GAAA,OAASA,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,OAASC,WAAW,KAAQ,sBAAsB,CAClD,OAASC,KAAK,KAAQ,qBAAqB,CAAC,6IAE5C,QAASC,SAAQ,EAAG,CAClB,cAAgCH,QAAQ,CAAC,CAAC,CAAC,wCAApCI,QAAQ,eAAEC,WAAW,eAC5B,gBAAkCP,UAAU,CAACG,WAAW,CAAC,CAAjDK,QAAQ,aAARA,QAAQ,CAAEC,WAAW,aAAXA,WAAW,CAE7B,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,GAAIJ,QAAQ,EAAI,CAAC,CAAE,CACjBC,WAAW,CAACD,QAAQ,CAAG,CAAC,CAAC,CAC3B,CACF,CAAC,CAED,GAAMK,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,GAAIL,QAAQ,CAAG,CAAC,CAAE,CAChBC,WAAW,CAACD,QAAQ,CAAG,CAAC,CAAC,CAC3B,CACF,CAAC,CAED,GAAMM,UAAS,CAAG,QAAZA,UAAS,CAAIN,QAAQ,CAAEO,IAAI,CAAK,CACpC,MAAOP,SAAQ,CAAGO,IAAI,CACxB,CAAC,CAED,eAAoCX,QAAQ,CAACM,QAAQ,CAAC,yCAA/CM,UAAU,eAAEC,aAAa,eAEhC,GAAMC,eAAc,CAAG,QAAjBA,eAAc,CAAIC,EAAE,CAAK,CAC7B,GAAMC,WAAU,CAAGV,QAAQ,CAACW,MAAM,CAAC,SAACN,IAAI,QAAKA,KAAI,CAACI,EAAE,GAAKA,EAAE,GAAC,CAC5DF,aAAa,CAACG,UAAU,CAAC,CACzB,GAAME,KAAI,CAAGC,IAAI,CAACC,SAAS,CAACd,QAAQ,CAACS,EAAE,CAAC,CACxCM,YAAY,CAACC,UAAU,CAAC,UAAU,CAAEJ,IAAI,CAAC,CAC3C,CAAC,CAEDnB,SAAS,CAAC,UAAM,CACdQ,WAAW,CAACK,UAAU,CAAC,CACzB,CAAC,CAAE,CAACA,UAAU,CAAEL,WAAW,CAAC,CAAC,CAE7B,mBACE,yBACGD,QAAQ,CAACiB,GAAG,CAAC,SAACZ,IAAI,CAAEI,EAAE,qBACrB,aAAc,SAAS,CAAC,WAAW,wBACjC,YAAK,SAAS,CAAC,UAAU,uBACvB,YAAK,GAAG,CAAEJ,IAAI,CAACa,GAAI,CAAC,GAAG,CAAC,SAAS,EAAG,EAChC,cACN,aAAK,SAAS,CAAC,aAAa,wBAC1B,UAAG,SAAS,CAAC,WAAW,UAAEb,IAAI,CAACc,WAAW,EAAK,cAC/C,aAAK,SAAS,CAAC,WAAW,wBACxB,eAAQ,OAAO,CAAEhB,QAAS,eAAW,cACrC,UAAG,SAAS,CAAC,UAAU,UAAEL,QAAQ,EAAK,cACtC,eAAQ,OAAO,CAAEI,QAAS,eAAW,GACjC,GACF,cACN,aAAK,SAAS,CAAC,YAAY,wBACzB,WAAG,SAAS,CAAC,YAAY,WAAEE,SAAS,CAACN,QAAQ,CAAEO,IAAI,CAACe,KAAK,CAAC,eAAS,cACnE,KAAC,KAAK,EAAC,OAAO,CAAE,yBAAMZ,eAAc,CAACH,IAAI,CAACI,EAAE,CAAC,EAAC,EAAG,GAC7C,GAfEA,EAAE,CAgBN,EACP,CAAC,EACD,CAEP,CAEA,cAAeZ,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}